<!DOCTYPE html>
<html height="100%" >

<head>
    <meta charset="utf-8">
</head>

<body min-height="100%" >

    <object id="board" data="board.svg" type="image/svg+xml" height="100%" width="100%">
    </object>
    <script>
        var selectedElement = null;

        document.getElementById("board").addEventListener("load", function () {
            var doc = this.contentDocument;
            doc.documentElement.addEventListener("mousedown", mousedown, false);
            doc.documentElement.addEventListener("mouseup", mouseup, false);
            doc.documentElement.addEventListener("mousemove", mousemove, false);

            doc.documentElement.querySelector('use[index="0"]').setAttribute("fill","pink");

        });

        function mousedown(e) {
            console.log(e);
            
        }

        function mouseup(e) {

            console.log(e);
            e.target.setAttribute("stroke","pink");
        }

        function mousemove(e) {
            var element = e.target;

            disableAllSelHoles(element);
            if (element && element.getAttribute("xlink:href") == "#hole") {
                element.setAttribute("class", "selVisible");
            }
        }



        function disableAllSelHoles(selElement) {
            var selHoles = document.getElementById("board").contentDocument.documentElement.querySelectorAll('.selVisible');
            selHoles.forEach(function (element) {
                if (element !== selElement){
                    element.setAttribute("class", "selHidden");
                    console.log(element.getAttribute("class"));
                }
            }, this);
        }
    </script>
</body>

</html>